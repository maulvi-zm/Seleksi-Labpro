<!doctype html>
<html lang="en" class="bg-[#1e1e1e]">
  <head>
    <meta charset="UTF-8" />
    <title>Stream Vibe</title>
    <link rel="stylesheet" href="/stylesheet/output.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.16.0/cdn/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.16.0/cdn/shoelace-autoloader.js"></script>
  </head>

  <body class="bg-[#141414] m-0 font-manrope min-h-screen flex flex-col">
    <header class="sticky top-0 w-full z-10]">
        <nav class="w-full h-28 px-9">
          <div class="flex items-center h-full w-full px-4">
            <div class="h-[60px] absolute">
              <img src="/assets/logo.png" alt="logo" class="h-14"/>
            </div>
      
              <div class="py-2 px-4 border border-[#1f1f1f] bg-black flex space-x-4 items-center rounded-xl text-base mx-auto">
                <a href="/" class="text-white">Home</a>
                <a href="/films" class="text-white px-2 py-2 bg-[#1f1f1f] rounded-xl">Movies & Shows</a>
                <a href="/my-films" class="text-white">My List</a>
              </div>
      
            <div class="flex items-center absolute right-10">
                <a href="/logout" class="text-white">Logout</a>
            </div>
          </div>
        </nav>
      </header>
      

    <main class="max-w-4xl mx-auto flex-1">
      <form>
        <sl-input placeholder="Search" class="w-full">
            <sl-icon slot="suffix" name="search"></sl-icon>
        </sl-input>
      </form>

      <div>
        <% if (data && data.length > 0) { %>
            <ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 my-8"> 
            <% data.forEach(film => { %>
              <li class="bg-[#1a1a1a] hover:shadow-2xl duration-300 group hover:scale-105 border border-[#262626] text-white rounded-xl cursor-pointer">
                <a href="/films/<%= film.id %>">
                    <figure class="w-full aspect-[4/3] bg-black rounded-t-xl">
                    <img src="<%= film.cover_image_url %>" alt="<%= film.title %>" class="aspect-[4/3] object-cover rounded-t-xl">
                    </figure> 
                    <div class="p-4 flex flex-col gap-2">
                    <h2 class="card-title"><%= film.title %> (<%= film.release_year %>)</h2>
                    <p class="text-xs -mt-2 font-light mb-2"><%= Math.floor(film.duration / 60).toString().padStart(2, '0') %>:<%= (film.duration % 60).toString().padStart(2, '0') %>:00</p> 
                    <ul class="flex flex-wrap gap-x-1">
                        <% film.genre.forEach(genre => { %>
                        <sl-badge variant="neutral" class="font-medium" pill><%= genre %></sl-badge>
                        <% }); %>
                    </ul>
                    <p class="font-light text-sm italic">Directed by: <%= film.director %></p> 
                    <p class="badge badge-neutral">ðŸª™ <%= film.price %></p>
                    </div>
                </a>
              </li>
            <% }); %>
            </ul>
          <% } else { %>
            <p class="text-white">No films available.</p>
          <% } %>
      </div> 
    </main>

    <footer class="w-full h-20 bottom-0 relative flex justify-around text-white items-center text-sm">
      <div>
        <p>
            &#64 2024 Stream Vibe. All rights reserved.
        </p>
      </div>

      <div class="flex space-x-6 gap-10">
        <p>Terms of Use</p>
        <p>Privacy Policy</p>
        <p>Cookie Policy</p>
      </div>
    </footer>
  </body>
</html>
